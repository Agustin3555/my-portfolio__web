---
import './Nav.css'
import Links from '@/components/Links/Links.astro'
import SocialNets from '@/components/SocialNets/SocialNets.astro'
import ContactLink from '@/components/ContactLink/ContactLink.astro'
import Hamburger from './components/Hamburger/Hamburger.astro'
import ScrollUp from './components/ScrollUp/ScrollUp.astro'
---

<Hamburger />
<header class="cmp-header">
  <ScrollUp />
  <button class="backdrop" title="Cerrar menÃº"></button>
  <nav class="bg card layout">
    <div class="section links">
      <Links />
    </div>
    <div class="section squares">
      <SocialNets show={2} />
      <ContactLink />
    </div>
  </nav>
</header>

<script>
  import { $, onPageLoad } from '@/tools'

  onPageLoad(() => {
    const hamburger = $('.cmp-hamburger')
    const backdrop = $('.backdrop')
    const header = $('.cmp-header')

    if (!hamburger || !backdrop || !header) return

    hamburger.addEventListener('click', () => header.classList.add('open'))
    backdrop.addEventListener('click', () => header.classList.remove('open'))
  })
</script>
